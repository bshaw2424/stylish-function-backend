<%- include ("../../../partials/header") %><%- include
("../../admin/mobile-nav") %>
<article class="message-page">
  <section class="message-details">
    <% include ("../../admin/admin-nav") %>
    <!-- start of message-button-container -->
    <div class="container">
      <!-- end of message-button-container -->
      <h2 class="message-label message"><%= message.name %></h2>
      <!-- start of message subject line div -->
      <div class="collection-group_subject message-subject">
        <span class="contact-showpage-subject">
          <b>Subject:</b><%= message.subject %>
        </span>
      </div>
      <!-- end of message subject line div -->
      <div class="collection-group collection-group_container">
        <div class="contact-showpage-date">
          <span class="date">
            <b>Send Date: </b> <%= message.created_on.toLocaleDateString() %>
          </span>
        </div>
        <p class="contact-email">
          <a href="mailto:<%= message.email %>"
            ><span class="message-label"><b>email:</b></span> <%=
            message.email.toLowerCase() %>
          </a>
        </p>
      </div>
      <!-- start contact message body -->
      <div class="message-body">
        <p class="contact-message"><%= message.message %></p>
      </div>
      <!-- end of contact message body -->
      <div class="message-showpage-buttons button-container">
        <form
          action="/messages/<%= message._id %>?_method=DELETE"
          method="POST"
        >
          <button class="btn delete-button">Delete</button>
        </form>
        <a href="/messages" class="btn static-button">cancel</a>
      </div>
    </div>
  </section>
</article>
<!-- <script>
  const deleteButton = document.querySelectorAll(".delete-button");
  deleteButton.forEach(button => {
    button.addEventListener("click", async e => {
      e.preventDefault();
      await fetch("/admin/messages/", {
        method: "DELETE",
        headers: { "Content-type": "application/json; charset=UTF-8" },
      })
        .then(data => console.log("data was deleted"))
        .catch(err => console.log(err));
    });
  });
</script> -->
<%- include ("../../../partials/footer") %>
